(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){e.exports=a(60)},39:function(e,t,a){},40:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),i=(a(39),a(4)),s=a(5),l=a(7),m=a(6),u=a(8),d=a(17),b=a(13),p=(a(40),a(18),a(27),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbars navbar-expand-sm navbar-dark bg-primary"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"navbar-brand",to:"tomar-orden"},"Tomar orden |"," ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"navbar-brand",to:"Cocina"},"Cocina |")))))}}]),t}(n.Component)),h=a(21),f=a(15),v=a(24),E=a.n(v);E.a.initializeApp({apiKey:"AIzaSyB_yVvrnR9-W9DbbxVi2yx53O49jL4wPaM",authDomain:"burger-queen-gdl002.firebaseapp.com",databaseURL:"https://burger-queen-gdl002.firebaseio.com",projectId:"burger-queen-gdl002",appId:"1:14744371401:web:b161951d0904c8ce"});var O=E.a,g=a(20),y=a(33),j=a.n(y),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).sendOrder=a.sendOrder.bind(Object(g.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"sendOrder",value:function(){O.database().ref().child("order").push([{orden:this.props.SendToKitchen,date:j()().format("lll"),waitressName:this.props.waitressName}]),this.props.eraseOrder()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-warning btn-send-kitchen",onClick:this.sendOrder},"Enviar a Cocina"))}}]),t}(n.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"total",value:function(e){var t=0;return e.map(function(e){return t+=e.price*(e.amount+1)}),t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"total"},"Total: ",this.total(this.props.order)," "))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).putWaitressName=function(e){e.preventDefault();var t=e.target.value;a.setState({waitressName:t})},a.state={waitressName:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.waitressName,a=this.props.order.map(function(t){return r.a.createElement("table",{className:"list-group"},r.a.createElement("tr",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("td",{className:"badge badge-primary badge-pill order-amount"}," ",t.amount+1),r.a.createElement("td",{className:"td-item"},t.item),r.a.createElement("td",{className:"order-price badge badge-secundary badge-pill"}," ","$",t.price,".00"),r.a.createElement("td",{className:"order-delete"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm btn-danger",onClick:function(){return e.props.deleteItem(t.id)}},"X"))))});return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("p",{href:"#",className:"list-group-item list-group-item-action active"},"Mesero:",r.a.createElement("input",{className:"name",type:"text",placeholder:"Nombre",waitressNameInput:t,onChange:this.putWaitressName}))),a,r.a.createElement(k,{order:this.props.order}),r.a.createElement(N,{SendToKitchen:this.props.order,waitressName:t,eraseOrder:this.props.eraseOrder}))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).chooseMenu=function(e){"morningMenu"==e?a.setState({menuSelected:"morningMenu"},function(){O.database().ref().child(a.state.menuSelected).on("value",function(e){a.setState({menuButtons:e.val()})})}):a.setState({menuSelected:"dinnerMenu"},function(){O.database().ref().child(a.state.menuSelected).on("value",function(e){a.setState({menuButtons:e.val()})})})},a.submitItem=function(e,t,n,r){var c={item:e,price:t,img:n,id:r,amount:0};a.setState({order:[].concat(Object(f.a)(a.state.order),[c])}),a.state.order.forEach(function(e){c.id==e.id&&(c.amount=e.amount+1)});var o=a.state.order.findIndex(function(e){return e.id==c.id});o>-1&&a.setState({order:[].concat(Object(f.a)(a.state.order.slice(0,o)),Object(f.a)(a.state.order.slice(o+1,a.state.order.length)),[c])})},a.deleteItem=function(e){var t=a.state.order.findIndex(function(t){return t.id===e});t>-1&&a.setState({order:[].concat(Object(f.a)(a.state.order.slice(0,t)),Object(f.a)(a.state.order.slice(t+1,a.state.order.length)))})},a.eraseOrder=function(){a.setState({order:[]})},a.state={menuButtons:[],order:[],morning:"morningMenu",dinner:"dinnerMenu",menuSelected:"morningMenu"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.database().ref().child("morningMenu").on("value",function(t){e.setState({menuButtons:t.val()})})}},{key:"render",value:function(){var e=this,t=this.state.menuButtons.map(function(t){return r.a.createElement("button",Object(h.a)({type:"button",className:"btn btn-lg btn-primary btn-item",key:t.id,onClick:function(){e.submitItem(t.item,t.price,t.img,t.id)}},"type","submit"),t.item,r.a.createElement("img",{className:"img",alt:t.item,src:t.img}))});return r.a.createElement("section",{className:"waitress row"},r.a.createElement("div",{className:"menues-section"},r.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg choose-menu-btn",onClick:function(){return e.chooseMenu(e.state.morning)}},"Menu Desayunos"),r.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg choose-menu-btn",onClick:function(){return e.chooseMenu(e.state.dinner)}},"Menu Comidas")),r.a.createElement("section",{className:"menuBtns-and-ticket row"},r.a.createElement("section",{className:"menu-buttons col-sm-12 col-md-7 alert alert-dismissible alert-secondary"},t),r.a.createElement("section",{className:"ticket col-sm-12 col-md-5"},r.a.createElement(w,{eraseOrder:this.eraseOrder,order:this.state.order,deleteItem:this.deleteItem}))))}}]),t}(n.Component),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={order:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;O.database().ref().child("order").on("value",function(t){var a=function(e){var t=[];return e.forEach(function(e){var a=e.val();a.key=e.key,t.push(a)}),t}(t);e.setState({order:a})})}},{key:"delete",value:function(e){O.database().ref().child("order").child(e).remove()}},{key:"render",value:function(){var e=this;return Array.isArray(this.state.order)?r.a.createElement("section",{className:"row kitchen-section"}," ",this.state.order.map(function(t,a){return r.a.createElement("div",{className:"card text-white bg-primary mb-3 kitchen-order"},r.a.createElement("div",{className:"card-header"}," ",r.a.createElement("h5",{className:"card-title"},"Orden no. ",a+1)," ",r.a.createElement("h6",null,t[0].date)," Mesero: ",t[0].waitressName),r.a.createElement("div",{className:"card-body"},t[0].orden.map(function(e,t){return r.a.createElement("h5",{className:"card-text"},r.a.createElement("span",{className:"badge badge-primary badge-pill"}," ",e.amount+1),e.item)})),r.a.createElement("button",{type:"button",className:"btn-terminado btn btn-secondary",onClick:function(){return e.delete(t.key)}},"Eliminar Pedido"))})," "):"Loading..."}}]),t}(n.Component),M=(n.Component,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(b.a,{path:"/",component:p}),r.a.createElement(b.a,{exact:!0,path:"/tomar-orden",component:C}),r.a.createElement(b.a,{path:"/cocina",component:S})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.aad8cb7d.chunk.js.map